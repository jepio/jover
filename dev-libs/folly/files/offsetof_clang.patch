--- folly/Portability.h	2015-03-03 05:31:37.000000000 +0200
+++ folly/Portability.h	2015-03-07 17:10:27.696430712 +0200
@@ -266,4 +266,9 @@
 }
 #endif
 
+// Clang has some problems with offsetof, atleast with version 3.5
+#if defined(__clang__)
+#define offsetof __builtin_offsetof
+#endif
+
 #endif // FOLLY_PORTABILITY_H_
